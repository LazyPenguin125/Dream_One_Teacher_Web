# 資料庫結構設計（schema.md）

本文件定義教師培訓平台所需的主要資料表與關聯結構，
適用於 Supabase（PostgreSQL）。

---

## 1. users（使用者）

| 欄位 | 型別 | 說明 |
|----|----|----|
| id | uuid | Supabase Auth 使用者 ID |
| name | text | 使用者名稱 |
| email | text | Email |
| role | text | teacher / admin |
| created_at | timestamp | 建立時間 |

---

## 2. courses（課程）

| 欄位 | 型別 | 說明 |
|----|----|----|
| id | uuid | 課程 ID |
| title | text | 課程名稱 |
| description | text | 課程描述 |
| is_published | boolean | 是否上架 |
| order | int | 排序 |
| created_at | timestamp | 建立時間 |

---

## 3. lessons（章節）

| 欄位 | 型別 | 說明 |
|----|----|----|
| id | uuid | 章節 ID |
| course_id | uuid | 所屬課程 |
| title | text | 章節名稱 |
| order | int | 章節排序 |
| is_published | boolean | 是否顯示 |
| created_at | timestamp | 建立時間 |

---

## 4. contents（內容，CMS 核心）

| 欄位 | 型別 | 說明 |
|----|----|----|
| id | uuid | 內容 ID |
| lesson_id | uuid | 所屬章節 |
| type | text | article / video |
| title | text | 標題 |
| body | text | 文章內容（article） |
| video_url | text | 影片連結（video） |
| order | int | 顯示順序 |
| status | text | draft / published / archived |
| created_at | timestamp | 建立時間 |

---

## 5. progress（學習進度）

| 欄位 | 型別 | 說明 |
|----|----|----|
| id | uuid | 進度 ID |
| user_id | uuid | 教師 |
| lesson_id | uuid | 章節 |
| completed | boolean | 是否完成 |
| updated_at | timestamp | 更新時間 |

---

## 6. assignments（作業）

| 欄位 | 型別 | 說明 |
|----|----|----|
| id | uuid | 作業 ID |
| user_id | uuid | 教師 |
| lesson_id | uuid | 章節 |
| type | text | video / text |
| content | text | 心得文字 |
| file_url | text | 影片檔案 |
| feedback | text | 管理者回饋 |
| created_at | timestamp | 繳交時間 |


